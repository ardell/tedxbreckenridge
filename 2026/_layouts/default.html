<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>

  {% seo %}
  {% feed_meta %}

  <!-- Schema.org Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "@id": "{{ site.url }}/#organization",
        "name": "TEDxBreckenridge",
        "url": "{{ site.url }}",
        "logo": {
          "@type": "ImageObject",
          "url": "{{ site.url }}{{ site.logo }}",
          "width": 600,
          "height": 60
        },
        "sameAs": [
          "https://twitter.com/tedxbreckenridge",
          "https://facebook.com/tedxbreckenridge",
          "https://instagram.com/tedxbreckenridge",
          "https://youtube.com/tedxbreckenridge",
          "https://www.flickr.com/photos/tedxbreckenridge"
        ],
        "contactPoint": {
          "@type": "ContactPoint",
          "email": "{{ site.email }}",
          "contactType": "General Inquiries"
        }
      },
      {
        "@type": "WebSite",
        "@id": "{{ site.url }}/#website",
        "url": "{{ site.url }}",
        "name": "{{ site.title }}",
        "description": "{{ site.description | strip_html | strip_newlines | truncate: 160 }}",
        "publisher": {
          "@id": "{{ site.url }}/#organization"
        }
      }
      {% if page.url == "/" or page.url == "/index.html" %}
      ,{
        "@type": "Event",
        "name": "TEDxBreckenridge 2026",
        "startDate": "2026-10-03",
        "eventAttendanceMode": "https://schema.org/OfflineEventAttendanceMode",
        "eventStatus": "https://schema.org/EventScheduled",
        "location": {
          "@type": "Place",
          "name": "Riverwalk Center",
          "address": {
            "@type": "PostalAddress",
            "addressLocality": "Breckenridge",
            "addressRegion": "CO",
            "addressCountry": "US"
          }
        },
        "organizer": {
          "@id": "{{ site.url }}/#organization"
        },
        "description": "TEDxBreckenridge 2026 - Ideas worth spreading in the heart of the Rockies. Join us for an evening of inspiring talks, local voices, and meaningful connections.",
        "image": "{{ site.url }}{{ site.image }}"
      }
      {% endif %}
    ]
  }
  </script>

  <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">

  {% if site.google_analytics %}
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '{{ site.google_analytics }}');
  </script>
  {% endif %}
</head>
<body>
  <!-- Skip Navigation Link -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Navigation -->
  <nav class="nav" id="nav" role="navigation" aria-label="Main navigation">
    <a href="/" class="nav-logo">
      <img src="{{ '/assets/images/tedx-breckenridge-logo-black.png' | relative_url }}" alt="TEDxBreckenridge">
    </a>
    <button class="nav-hamburger" id="navHamburger" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="navMenu">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </button>
    <div class="nav-menu" id="navMenu">
      <ul class="nav-links">
        <li class="nav-dropdown">
          <button class="nav-dropdown-toggle" aria-expanded="false" aria-haspopup="true">Attend</button>
          <ul class="nav-dropdown-menu" role="menu">
            <li role="menuitem"><a href="/#salon">January Salon Event</a></li>
            <li role="menuitem"><a href="/#main-event">October 2026 Main Event</a></li>
            <li role="menuitem"><a href="/faq">FAQ</a></li>
          </ul>
        </li>
        <li class="nav-dropdown">
          <button class="nav-dropdown-toggle" aria-expanded="false" aria-haspopup="true">Watch</button>
          <ul class="nav-dropdown-menu" role="menu">
            <li role="menuitem"><a href="/talks">All Talks</a></li>
          </ul>
        </li>
        <li class="nav-dropdown">
          <button class="nav-dropdown-toggle" aria-expanded="false" aria-haspopup="true">Support</button>
          <ul class="nav-dropdown-menu" role="menu">
            <li role="menuitem"><a href="https://tedxbreckenridge.com/speak" target="_blank" rel="noopener noreferrer" aria-label="Apply to Speak (opens in new window)">Apply to Speak</a></li>
            <li role="menuitem"><a href="https://tedxbreckenridge.com/volunteer" target="_blank" rel="noopener noreferrer" aria-label="Volunteer (opens in new window)">Volunteer</a></li>
            <li role="menuitem"><a href="https://tedxbreckenridge.com/sponsor" target="_blank" rel="noopener noreferrer" aria-label="Sponsor (opens in new window)">Sponsor</a></li>
            <li role="menuitem"><a href="/donate-local-nonprofit-in-breckenridge">Donate</a></li>
          </ul>
        </li>
        <li class="nav-dropdown">
          <button class="nav-dropdown-toggle" aria-expanded="false" aria-haspopup="true">Discover</button>
          <ul class="nav-dropdown-menu" role="menu">
            <li role="menuitem"><a href="/about">About</a></li>
            <li role="menuitem"><a href="/team">Team</a></li>
            <li role="menuitem"><a href="/blog">Blog</a></li>
            <li role="menuitem"><a href="/contact">Contact</a></li>
          </ul>
        </li>
      </ul>
      <a href="https://tedxbreckenridge.ticketsauce.com/e/cooking-at-altitude" class="nav-cta" target="_blank" rel="noopener noreferrer" aria-label="Get Tickets (opens in new window)">Get Tickets</a>
    </div>
  </nav>

  <script>
    // Mobile navigation toggle
    const navHamburger = document.getElementById('navHamburger');
    const navMenu = document.getElementById('navMenu');
    const body = document.body;

    navHamburger.addEventListener('click', function() {
      const isExpanded = navHamburger.getAttribute('aria-expanded') === 'true';
      navMenu.classList.toggle('active');
      navHamburger.classList.toggle('active');
      body.classList.toggle('nav-open');
      navHamburger.setAttribute('aria-expanded', !isExpanded);
    });

    // Dropdown functionality for mobile
    const dropdownToggles = document.querySelectorAll('.nav-dropdown-toggle');
    dropdownToggles.forEach(toggle => {
      toggle.addEventListener('click', function(e) {
        // On mobile, toggle dropdowns
        if (window.innerWidth <= 900) {
          e.preventDefault();
          const parent = this.parentElement;
          const wasActive = parent.classList.contains('active');
          const isExpanded = this.getAttribute('aria-expanded') === 'true';

          // Close all dropdowns
          document.querySelectorAll('.nav-dropdown').forEach(dropdown => {
            dropdown.classList.remove('active');
            const btn = dropdown.querySelector('.nav-dropdown-toggle');
            if (btn) btn.setAttribute('aria-expanded', 'false');
          });

          // Open this one if it wasn't active
          if (!wasActive) {
            parent.classList.add('active');
            this.setAttribute('aria-expanded', 'true');
          }
        }
      });

      // Keyboard accessibility
      toggle.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          this.click();
        }
      });
    });

    // Close menu when clicking on a dropdown link
    const dropdownLinks = document.querySelectorAll('.nav-dropdown-menu a');
    dropdownLinks.forEach(link => {
      link.addEventListener('click', function() {
        navMenu.classList.remove('active');
        navHamburger.classList.remove('active');
        body.classList.remove('nav-open');
        document.querySelectorAll('.nav-dropdown').forEach(dropdown => {
          dropdown.classList.remove('active');
        });
      });
    });

    // Close CTA click
    const navCta = document.querySelector('.nav-cta');
    if (navCta) {
      navCta.addEventListener('click', function() {
        navMenu.classList.remove('active');
        navHamburger.classList.remove('active');
        body.classList.remove('nav-open');
      });
    }

    // Close menu when clicking outside
    document.addEventListener('click', function(event) {
      const isClickInsideNav = navMenu.contains(event.target) || navHamburger.contains(event.target);
      if (!isClickInsideNav && navMenu.classList.contains('active')) {
        navMenu.classList.remove('active');
        navHamburger.classList.remove('active');
        body.classList.remove('nav-open');
      }
    });
  </script>

  <main id="main-content" role="main">
    {{ content }}
  </main>

  <!-- Footer -->
  <footer class="footer" role="contentinfo">
    <div class="footer-content">
      <div class="footer-top">
        <div class="footer-brand">
          <img src="{{ '/assets/images/tedx-breckenridge-logo-white.png' | relative_url }}" alt="TEDxBreckenridge" class="footer-logo">
          <p>A 501(c)(3) nonprofit bringing ideas worth spreading to Summit County, Colorado. Run entirely by local volunteers.</p>
        </div>
        <div class="footer-column">
          <h4>Attend</h4>
          <ul>
            <li><a href="/tickets">Get Tickets</a></li>
            <li><a href="/speakers">2026 Speakers</a></li>
            <li><a href="/salons">Salon Series</a></li>
            <li><a href="/faq">FAQ</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Support</h4>
          <ul>
            <li><a href="/donate-local-nonprofit-in-breckenridge">Donate</a></li>
            <li><a href="/volunteer">Volunteer</a></li>
            <li><a href="/sponsor">Sponsor</a></li>
            <li><a href="/shop">Shop</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Discover</h4>
          <ul>
            <li><a href="/talks">Watch Talks</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/team">Team</a></li>
            <li><a href="/contact">Contact</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <div class="footer-legal">
          <p>This independent TEDx event is operated under license from TED.</p>
        </div>
        <div class="footer-social">
          {% if site.social.instagram %}
          <a href="https://instagram.com/{{ site.social.instagram }}" target="_blank" rel="noopener noreferrer" aria-label="Follow us on Instagram (opens in new window)">Instagram</a>
          {% endif %}
          {% if site.social.youtube %}
          <a href="https://youtube.com/{{ site.social.youtube }}" target="_blank" rel="noopener noreferrer" aria-label="Watch us on YouTube (opens in new window)">YouTube</a>
          {% endif %}
          <a href="https://www.flickr.com/photos/tedxbreckenridge/" target="_blank" rel="noopener noreferrer" aria-label="View our photos on Flickr (opens in new window)">Flickr</a>
        </div>
      </div>
    </div>
  </footer>
</body>
</html>
